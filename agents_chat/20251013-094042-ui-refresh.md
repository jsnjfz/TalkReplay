## Summary

- 调整 `src/components/chats/chat-detail.tsx`，为会话详情加入消息类型筛选器、默认折叠工具信息，并突出用户消息的视觉层级。
- 更新 `src/components/chats/tool-call-card.tsx` 的默认折叠逻辑与摘要预览，同时优化浅色/深色主题的卡片样式。
- 追加多语言文案（`src/locales/en/common.json`, `src/locales/zh-CN/common.json`）并在 `tasks.md` 记录进展。

## Code Highlights

```tsx
// src/components/chats/chat-detail.tsx
const MESSAGE_FILTER_CONFIG: Array<{
  key: MessageFilterKey;
  icon: LucideIcon;
  labelKey: string;
}> = [
  { key: "human", icon: User, labelKey: "detail.messageFilters.human" },
  { key: "assistant", icon: Bot, labelKey: "detail.messageFilters.assistant" },
  { key: "tool", icon: Wrench, labelKey: "detail.messageFilters.tool" },
  { key: "system", icon: Shield, labelKey: "detail.messageFilters.system" },
];

const shouldOfferCollapseToggle = category === "tool" && copyPayload.length > 0;
const shouldDefaultCollapse = shouldOfferCollapseToggle && Boolean(copyPayload);
```

```tsx
// src/components/chats/tool-call-card.tsx
const [open, setOpen] = React.useState(false);
const previewSource =
  bodyText ??
  stdout ??
  stderr ??
  diff ??
  (diffFiles && diffFiles.length > 0
    ? diffFiles
        .map((file) => file.newPath ?? file.oldPath ?? "")
        .filter((p): p is string => Boolean(p))
        .join(", ")
    : "");
```

## Self-Tests

- `pnpm lint` → ✅ 通过；仍有既有测试文件的 `import/order` 警告（未在本次修复范围内），主要代码无错误。

## Risks & Follow-ups

- `@next/next/no-img-element` 规则需继续关注；当前通过局部 `eslint-disable` 保持远程/本地图片渲染。
- 余下的测试用例 `import/order` 警告可在后续统一整理，以保持更干净的 lint 输出。
