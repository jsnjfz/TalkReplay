## Summary

- Fixed build failure from `serialiseContent` returning `undefined` by allowing it and omitting the `content` field when absent, keeping ChatMessage typing intact.

## Code Highlights

```ts
// src/schema/normaliser.ts
const content = serialiseContent(partial.content);
...
if (content !== undefined) {
  message.content = content;
}
```

- `serialiseContent` now returns `string | null | undefined`, and `finaliseMessage` only sets `content`/`metadata` when values exist, matching `ChatMessage` optional semantics.

## Self-Tests

- `pnpm run build` â†’ **passed**.

## Risks / Blockers / Follow-ups

- Consider extending regression coverage so schema transform tests assert we never emit undefined fields when not expected.
