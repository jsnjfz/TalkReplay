# Parser Worker Integration

## Summary

- Moved transcript parsing logic into `parser-core` and added a `parser.worker.ts` Web Worker so large file imports run off the main thread.
- Updated `parseFile` to delegate to the worker in browser contexts and added coverage utilities for direct text parsing.

## Code Highlights

- `src/lib/parser-core.ts:1` now hosts pure parsing helpers + safe random ID generation.
- `src/lib/parsers.ts:1` manages a worker pool with request tracking, falling back to synchronous parsing outside the browser.
- `src/workers/parser.worker.ts:1` handles parse requests and posts results/errors back to the main thread.
- `tasks.md:23` marks the background parsing worker deliverable complete.

## Self-Tests

- `pnpm lint`
- `pnpm test`

## Risks & Follow-Up

- Consider terminating the worker on teardown to reclaim memory.
- When we add Gemini support, remember to expose its parser via the worker too.
  \n- Timestamp: update to include parser worker tasks note.
